{% extends "shared/base.html" %}

{% load static %}


{% block title %}LIMBS{% endblock %}
{% block header %}
<script type="module" src="{% static 'limbs/index.js' %}"></script>
<link rel="stylesheet" type="text/css" href="{% static 'limbs/items.css' %}">
{% endblock %}

{% block content %}
<h1>LIMBS</h1>
<!--
<h2>Add a Part, Tool, Subsytem, or Component</h2>
<form id="item_sub_frm" action="/submit/item">
    Name: <input type="text" name="name"><br>
    Location: <input type="text" name="loc">
</form>
<h2>Add a Cabinet, Shelf, Table, or Floor</h2>
<div>
    <form id="sheet_submit_form">
        <label for="sheet_submit">Select spreadsheet for submission:</label>
        <input type="file" id="sheet_submit" name="sheet_submit" accept=".txt,text/plain,.xls,.xlsx,.xlsm,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,.csv,text/csv">
        <input type="submit" value="Upload">
    </form>
</div>
-->
<h2>Database</h2>

{% if name or part_no or manuf%}

Results for... {{name}} {{part_no}} {{manuf}}

<form action="{% url 'limbs:item_search' %}">   
    <input type="submit" value="Clear Search">
 </form>


{% else %}

<form action="{% url 'limbs:item_search' %}" method="get">
    <input name="item_name" type="text" placeholder="Name...">
    <input name="item_part_no" type="number" placeholder="Part #...">
    <input name="item_manufacturer" type="text" placeholder="Manufacturer...">
    <input type="submit" value="Search">
</form>

<form action="{% url 'limbs:upload_excel' %}" method="post" enctype="multipart/form-data">
    {% csrf_token %}
    <input type="file"
           title="Upload excel file"
           name="excel_file"
           style="border: 1px solid black; padding: 5px;"
           required="required">
    <p>
    <input type="submit"
           value="Upload"
           style="border: 1px solid green; padding:5px; border-radius: 2px; cursor: pointer;">
</form>

{% endif %}

 
 <button type="button" onclick="item_popup(event, '{% url 'limbs:create_item' %}')">Create Item</button>

<div id="item_tbl">
    {% include "./item_table.html" with item_list=item_list only %}
</div>
{% endblock %}